---
layout: post
title:  "Quizz #3: DB & ActiveRecord"
---

<div class="question">
  Qu'est ce qu'une base de données relationnelle ?
<div>

<div class="answer big"></div>

<div class="question">
  Quels sont les différents types de relation entre tables que vous connaissez ?
<div>

<div class="answer big"></div>


<div class="question">
  Un auteur, défini par son nom, a plusieurs livres. Un livre, défini par son titre et son année de publication, appartient à un auteur. Dessiner le schéma de cette base de données, avec les relations entre les tables.
</div>

<div class="answer big">

</div>



<div class="question">
  Un utilisateur, défini par son email, peut lire plusieurs livre. Un livre peut être lu par plusieurs utilisateur (ebook) On veut aussi garder trace de la date à laquelle un lecteur lit un livre. Reprenez votre schéma ci-dessus et ajoutez les tables et relations supplémentaires.
</div>

<div class="answer big">

</div>

<div class="question">
  Quel est le langage permettant d'interroger une base de données ?
</div>

<div class="answer"></div>

<div class="question">
  Quelle requête simple permet de retrouver les livres écrit avant 1985 ?
</div>

<div class="answer">

</div>

<div class="question">
  Quelle requête jointe permet de retouver les 3 derniers livres publiés de Jules Vernes
</div>

<div class="answer"></div>




<div class="question">
  À quoi sert ActiveRecord ?
</div>

<div class="answer">

</div>

<div class="question">
  Qu'est-ce qu'une migration ? Comment l'execute-t-on ?
</div>

<div class="answer">

</div>

<div class="question">
  Compléter les migrations pour notre BDD de e-books
</div>

```ruby
class CreateBooks < ActiveRecord::Migration
  def up
    create_table :books do |t|


    end
  end
end
```

```ruby
class CreateAuthors < ActiveRecord::Migration
  def change



  end
end
```

```ruby
class CreateUsers < ActiveRecord::Migration
  def change


  end
end
```
<div style="page-break-after:always;"></div>

<div class="question">
  Ecrire une migration pour ajouter une colonne <code>category</code> à notre table livre.
  Est-ce la meilleure façon de procéder ?
</div>

```ruby
class AddCategoryToBook < ActiveRecord::Migration
  def change


  end
end
```


<div class="question">
  Définissez une classe de modèle pour chaque table de votre base de données.
  Ajoutez les associations entre modèles.
</div>

<div class="answer big"></div>


<div class="question">
  Compléter le code suivant en utilisant les bonnes méthodes Active Record.
</div>

```ruby
#1. Add your favorite author to the DB

#2. Get all authors

#3. Get author with id=8

#4. Get author with name="Jules Verne", store it in a variable: jules

#5. Get Jules Verne's books

#6. Create a new book "20000 Leagues under the Seas", it's missing in DB.
# Store it in a variable: twenty_thousand

#7. Add Jules Verne as this book's author

#8. Now save this book in the DB!

# The end
```


<div class="question">
  Ajoutez des validations de votre choix à la classe de modèle `Author`.
</div>

<div class="answer big">

</div>
